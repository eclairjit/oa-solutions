```cpp
#include <bits/stdc++.h>
using namespace std;

bool check(int x, int *a, int n, int k) {
    
    long long req = k*x;
    
    for(int i=0; i<n; i++) {

        req -= min(a[i], x);
        
    }
    
    return (req<=0);
    
}

int main() {
    
    int n, k;
    cin >> n >> k;
    
    long long l=0, h=0;
    
    int a[n];
    for(int i=0; i<n; i++) {
        
        cin >> a[i];
        h += a[i];
        
    }

    while(l<=h) {
        
        long long m = l+(h-l)/2;
        
        if(check(m, a, n, k)) {
            l = ++m;
        } else {
            h = --m;
        }
        
    }
    
    cout << h << endl;
    
    return 0;
}
```
